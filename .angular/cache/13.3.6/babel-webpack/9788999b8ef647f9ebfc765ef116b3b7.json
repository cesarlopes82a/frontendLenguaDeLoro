{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\CESAR\\\\apiREST-LenguaDeLoro\\\\frontendLenguaDeLoro\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { global } from 'src/app/services/global';\nimport { DialogquitartiendaComponent } from './dialogs/dialogquitartienda/dialogquitartienda.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\n\nfunction UsersComponent_tbody_18_p_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const role_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", role_r8.roleName, \" \");\n  }\n}\n\nconst _c0 = function (a1) {\n  return [\"/productos/producto\", a1];\n};\n\nconst _c1 = function (a1) {\n  return [\"/productos/editar/\", a1];\n};\n\nfunction UsersComponent_tbody_18_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵelementStart(1, \"a\", 34);\n    i0.ɵɵelement(2, \"i\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 34);\n    i0.ɵɵelement(4, \"i\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 37);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tbody_18_p_9_Template_a_click_5_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const usuario_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.pidoEliminar(usuario_r2._id);\n    });\n    i0.ɵɵelement(6, \"i\", 38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const usuario_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c0, usuario_r2._id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c1, usuario_r2._id));\n  }\n}\n\nfunction UsersComponent_tbody_18_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵelementStart(1, \"a\", 39);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tbody_18_p_10_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const usuario_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.deleteUsuario(usuario_r2._id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"a\", 39);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tbody_18_p_10_Template_a_click_2_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const usuario_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.deleteUsuario(usuario_r2._id);\n    });\n    i0.ɵɵelement(3, \"i\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"a\", 39);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tbody_18_p_10_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return ctx_r18.pidoCancelarEliminar();\n    });\n    i0.ɵɵelement(5, \"i\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UsersComponent_tbody_18_div_18_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const sucursal_r21 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(sucursal_r21.branchName);\n  }\n}\n\nfunction UsersComponent_tbody_18_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, UsersComponent_tbody_18_div_18_div_4_Template, 3, 1, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const tienda_r19 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(tienda_r19.store.storeName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", tienda_r19.branches);\n  }\n}\n\nfunction UsersComponent_tbody_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵelementStart(1, \"tr\", 26);\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtemplate(7, UsersComponent_tbody_18_p_7_Template, 2, 1, \"p\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtemplate(9, UsersComponent_tbody_18_p_9_Template, 7, 6, \"p\", 27);\n    i0.ɵɵtemplate(10, UsersComponent_tbody_18_p_10_Template, 6, 0, \"p\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"tr\");\n    i0.ɵɵelementStart(12, \"td\", 28);\n    i0.ɵɵelementStart(13, \"div\", 29);\n    i0.ɵɵelementStart(14, \"div\", 30);\n    i0.ɵɵelementStart(15, \"div\", 4);\n    i0.ɵɵtext(16, \" T i e n d a s \");\n    i0.ɵɵelement(17, \"hr\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, UsersComponent_tbody_18_div_18_Template, 5, 2, \"div\", 7);\n    i0.ɵɵelement(19, \"hr\");\n    i0.ɵɵelementStart(20, \"div\", 31);\n    i0.ɵɵelement(21, \"div\", 32);\n    i0.ɵɵelementStart(22, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tbody_18_Template_button_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const usuario_r2 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.openDialogAsignacionDeTiendas(usuario_r2._id);\n    });\n    i0.ɵɵtext(23, \" Re-asignar tiendas \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const usuario_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"href\", \"#tiendascollapse_\" + i_r3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r2.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r2.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", usuario_r2.roles);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.consultoEstadoEliminar(usuario_r2._id) == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.consultoEstadoEliminar(usuario_r2._id) == true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"id\", \"tiendascollapse_\" + i_r3);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", usuario_r2.tiendas);\n  }\n}\n\nfunction UsersComponent_div_38_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nfunction UsersComponent_div_38_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵelementStart(1, \"input\", 46);\n    i0.ɵɵlistener(\"change\", function UsersComponent_div_38_ng_template_2_Template_input_change_1_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return ctx_r30.onCheckChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 47);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const tienda_r24 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", tienda_r24.store._id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", tienda_r24.store.storeName, \" -+ \");\n  }\n}\n\nfunction UsersComponent_div_38_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵelementStart(1, \"input\", 48);\n    i0.ɵɵlistener(\"change\", function UsersComponent_div_38_ng_template_4_Template_input_change_1_listener($event) {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext(2);\n      return ctx_r33.onCheckChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 49);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const tienda_r24 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", tienda_r24.store._id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", tienda_r24.store.storeName, \" -* \");\n  }\n}\n\nfunction UsersComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UsersComponent_div_38_div_1_Template, 1, 0, \"div\", 42);\n    i0.ɵɵtemplate(2, UsersComponent_div_38_ng_template_2_Template, 4, 2, \"ng-template\", null, 43, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtemplate(4, UsersComponent_div_38_ng_template_4_Template, 4, 2, \"ng-template\", null, 44, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const tienda_r24 = ctx.$implicit;\n\n    const _r26 = i0.ɵɵreference(3);\n\n    const _r28 = i0.ɵɵreference(5);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", tienda_r24.asignada == true)(\"ngIfThen\", _r26)(\"ngIfElse\", _r28);\n  }\n}\n\nconst _c2 = function () {\n  return [\"/usuarios/crearUsuario\"];\n};\n\nexport class UsersComponent {\n  constructor(_userService, _router, dialog) {\n    this._userService = _userService;\n    this._router = _router;\n    this.dialog = dialog;\n    this.tiendasSeleccionadas = [];\n    this.estadoDeTiendas = []; // es un array de todas las stores que tiene el adminMaster + un booleano asignada:true/false que me dice si el usuario ya la tiene asignada o no\n\n    this.url = global.url, this.title = \"U S U A R I O S\";\n  }\n\n  ngOnInit() {\n    this._userService.enviarTiendasSeleccionadasAsignacion.subscribe(data => {\n      console.log(\"MENSAJE: enviarTiendasSeleccionadasAsignacion - reciendo la lista de tiendas seleccionadas para asignacion de tiendas.\");\n\n      for (const branch in data.data) {\n        console.log(`${branch}: ${data.data[branch]}`);\n\n        if (`${data.data[branch]}` == \"true\") {\n          console.log(\"Tengo que asignar esta tienda: \" + `${branch}`);\n        } else {\n          console.log(\"esta tienda NO: \" + `${branch}`);\n        }\n      }\n\n      this.reasignarTiendas(data.data, this.usrSelecionado._id);\n    }); // busco todos los usuarios para poder cargar la tabla de usuarios\n\n\n    this.getUsersAndPopulate();\n  }\n\n  getUsersAndPopulate() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(\"MENSAJE: Obteniendo lista de usuarios...\");\n      yield _this._userService.getUsersAndPopulate().subscribe({\n        next: v => {\n          console.log(\"MENSAJE: Lista de usuarios obtenida con exito\");\n          console.log(v);\n          _this.usuarios = v;\n\n          _this.usuarios.forEach(usuario => {\n            console.log(\"el rol\");\n            usuario.roles.forEach(role => {\n              console.log(role.roleName);\n            });\n          });\n        },\n        error: e => console.error(e),\n        complete: () => console.info('este es el complete')\n      });\n    })();\n  }\n\n  deleteUsuario(idUsuario) {\n    console.log(\"intento eliminar el usuario\");\n  }\n\n  onChange(tiendaId, isChecked) {\n    if (isChecked) {\n      console.log(\"agrego la tienda \" + tiendaId + \" al array de tiendas seleccionadassss desde le onChange()\");\n      this.tiendasSeleccionadas.push(tiendaId);\n    } else {\n      let index = this.tiendasSeleccionadas.indexOf(tiendaId);\n      this.tiendasSeleccionadas.splice(index, 1);\n    }\n  }\n\n  openDialogAsignacionDeTiendas(usuarioId) {\n    // al dialog le tengo que pasar lo diguiente:\n    //  - las tiendas del adminMaster. Lo voy a usar como referencia de todas las tiendas y sus branches que hay actualemtente\n    //  - el user a que quiero agregarle/quitarle una tienda o una branch\n    //Localizo al admin Master\n    this.usuarios.every(usuario => {\n      if (usuario.roles[0].roleName === 'adminMaster') {\n        this.adminMasterTiendas = usuario.tiendas;\n        return false;\n      }\n\n      return true;\n    }); ////////////////////////////////////\n    //Localizo el usuario que quiero modificar\n\n    this.usuarios.every(usuario => {\n      if (usuario._id === usuarioId) {\n        this.usrSelecionado = usuario;\n        return false;\n      }\n\n      return true;\n    }); ////////////////////////////////////\n    // this.listarLasTiendas(usuarioId,\"quitar\")\n\n    const dialogRef = this.dialog.open(DialogquitartiendaComponent, {\n      width: '50%',\n      height: '50%',\n      data: {\n        'usrSelecionado': this.usrSelecionado,\n        'adminMasterTiendas': this.adminMasterTiendas\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      console.log(`Dialog result: ${result}`);\n    });\n  }\n\n  reasignarTiendas(listaTiendasSeleccionadas, userId) {\n    this._userService.reasignarTiendas(listaTiendasSeleccionadas, userId).subscribe({\n      next: v => {\n        console.log(v);\n        this.getUsersAndPopulate();\n\n        this._router.navigate(['/usuarios']);\n      },\n      error: e => console.error(e),\n      complete: () => console.info('este es el complete del addStoreToUserFromRoute()')\n    });\n  }\n\n  listarLasTiendas(usuarioId, accion) {\n    this.usrAlQLQuieroAddTienda = usuarioId; //vacio el array de estadoDeTiendas\n\n    this.estadoDeTiendas.splice(0, this.estadoDeTiendas.length); //vacio el array de tiendasSeleccionadas\n\n    this.tiendasSeleccionadas.splice(0, this.tiendasSeleccionadas.length); //voy a buscar el adminMaster para obtener el listado de todas las tiendas.\n\n    this.usuarios.every(usuario => {\n      if (usuario.roles[0].roleName === 'adminMaster') {\n        this.adminMasterTiendas = usuario.tiendas;\n        return false;\n      }\n\n      return true;\n    }); //voy a buscar el usuario por el id que me pasan y lleno el array de tiendasAsignadas a este usuario\n\n    this.usuarios.every(usuario => {\n      //voy a llenar el array tiendasAsignadas con objetos de tipo objTienda\n      if (usuario._id == usuarioId) {\n        if (usuario.tiendas.length > 0) {\n          // <-- esto me dice si el usuario tiene alguna tienda asignada o no tiene ninguna. si es =0 meto todas las tiendas con el parametro asignadas=false\n          //reviso todas las tiendas que tiene para saber si el estado de objTienda.asignada va a ser true o false\n          var contador = 0;\n          this.adminMasterTiendas.forEach(adminMasterTienda => {\n            //inicializo un objeto tienda para tenerlo precargado\n            let objTienda = {\n              'store': \"\",\n              'asignada': false\n            };\n            contador = contador + 1;\n            objTienda.store = adminMasterTienda.store;\n            objTienda.asignada = false; //ahora voy a recorrer el las tiendas del usuario para hacer un mach \n\n            var contadorUsuario = 0;\n            usuario.tiendas.every(usuarioTienda => {\n              contadorUsuario = contadorUsuario + 1;\n\n              if (adminMasterTienda.store._id == usuarioTienda.store._id) {\n                //agrego la tienda al array de tiendas seleccionadas\n                this.tiendasSeleccionadas.push(adminMasterTienda.store._id);\n                objTienda.asignada = true;\n                return false;\n              }\n\n              return true;\n            });\n            this.estadoDeTiendas.push(objTienda);\n          });\n        } else {\n          //meto todas las tiendas con el parametro asignadas=false\n          this.adminMasterTiendas.forEach(tienda => {\n            let objTienda = {\n              'store': \"\",\n              'asignada': false\n            };\n            objTienda.store = tienda.store;\n            objTienda.asignada = false;\n            this.estadoDeTiendas.push(objTienda);\n          });\n          console.log(this.adminMasterTiendas);\n          console.log(this.estadoDeTiendas);\n        }\n\n        return false;\n      }\n\n      return true;\n    });\n    console.log(\"estas son las tiendasAsignadas FINALLLLLLL\");\n    console.log(this.estadoDeTiendas);\n  }\n\n  onCheckChange(event) {\n    //console.log(\"elvenettttt \", event)\n    if (event.target.checked) {\n      //console.log(\"agrego la tienda al array de tiendas seleccionadas \" + event.target.id + \" desde el onCheckChange()\")\n      //console.log(\"este es el array de tiendasSeleccionadas antes de hacer el push\")\n      //console.log(this.tiendasSeleccionadas)\n      this.tiendasSeleccionadas.push(event.target.id);\n      console.log(\"este es el array de tiendasSeleccionadas DESPUES del push\");\n      console.log(this.tiendasSeleccionadas);\n    } else {\n      //console.log(\"SACO la tienda al array de tiendas seleccionadas \" + event.target.id + \" desde el onCheckChange()\")\n      //console.log(\"este es el array de tiendasSeleccionadas antes de hacer el splice\")\n      //console.log(this.tiendasSeleccionadas)\n      let index = this.tiendasSeleccionadas.indexOf(event.target.id);\n      this.tiendasSeleccionadas.splice(index, 1);\n      console.log(\"este es el array de tiendasSeleccionadas DESPUES de hacer el splice\");\n      console.log(this.tiendasSeleccionadas);\n    }\n  }\n\n  guardarSeleccion() {\n    console.log(\"GUARDO!\");\n    console.log(this.tiendasSeleccionadas);\n    this.tiendasSeleccionadas.forEach(tiendasSeleccionada => {\n      console.log(\"intentando asignar la tienda \" + tiendasSeleccionada + \" al user \" + this.usrAlQLQuieroAddTienda);\n      this.addStoreToUserFromRoute(this.usrAlQLQuieroAddTienda, tiendasSeleccionada);\n      console.log(\"esta es una tienda seleccionada\");\n      console.log(tiendasSeleccionada);\n    });\n  }\n\n  addStoreToUserFromRoute(userId, storeId) {\n    this._userService.addStoreToUserFromRoute(userId, storeId).subscribe({\n      next: v => {\n        console.log(\"this._userService.addStoreToUserFromRoute(userId, storeId)\");\n        console.log(\"this._userService.addStoreToUserFromRoute(\" + userId + \", \" + storeId + \")\");\n        console.log(v);\n        this.getUsersAndPopulate();\n\n        this._router.navigate(['/usuarios']);\n      },\n      error: e => console.error(e),\n      complete: () => console.info('este es el complete del addStoreToUserFromRoute()')\n    });\n  }\n\n  testClick() {\n    console.log(\"hice click en el boton\");\n  }\n\n  pidoEliminar(idUsuario) {\n    this.quieroEliminarEsteUsuario = idUsuario;\n    console.log(\"es este: \" + this.quieroEliminarEsteUsuario);\n  }\n\n  consultoEstadoEliminar(idUsuario) {\n    if (idUsuario == this.quieroEliminarEsteUsuario) return true;\n    return false;\n  }\n\n  pidoCancelarEliminar() {\n    this.quieroEliminarEsteUsuario = \"\";\n  }\n\n  getUsers() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2._userService.getUsers().subscribe({\n        next: v => {\n          console.log(\"estos son los usuarios\");\n          console.log(v);\n          _this2.usuarios = v;\n        },\n        error: e => console.error(e),\n        complete: () => console.info('este es el complete')\n      });\n    })();\n  }\n\n}\n\nUsersComponent.ɵfac = function UsersComponent_Factory(t) {\n  return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MatDialog));\n};\n\nUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersComponent,\n  selectors: [[\"app-users\"]],\n  decls: 48,\n  vars: 4,\n  consts: [[1, \"table\"], [1, \"container\"], [1, \"col-md-12\"], [1, \"panel\", \"panel-default\"], [1, \"panel-heading\"], [1, \"panel-body\"], [1, \"table\", \"table-condensed\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", \"data-backdrop\", \"static\", \"data-keyboard\", \"false\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [3, \"submit\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"modal-footer\"], [1, \"row\"], [\"type\", \"submit\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"click\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"data-bs-toggle\", \"collapse\", \"role\", \"button\", \"aria-expanded\", \"false\", \"aria-controls\", \"collapseExample\"], [4, \"ngIf\"], [\"colspan\", \"3\"], [1, \"collapse\", 3, \"id\"], [1, \"card\", \"card-body\"], [1, \"row\", \"justify-content-center\"], [1, \"justify-content-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"iconoenlinea\", 3, \"routerLink\"], [1, \"fas\", \"fa-eye\", 2, \"margin-left\", \"5%\"], [1, \"fa-solid\", \"fa-pencil\", 2, \"margin-left\", \"5%\"], [1, \"iconoenlinea\", 3, \"click\"], [1, \"fas\", \"fa-trash-alt\", 2, \"margin-left\", \"5%\"], [3, \"click\"], [1, \"fas\", \"fa-check\", 2, \"color\", \"rgb(24, 185, 24)\"], [1, \"fas\", \"fa-check\", 2, \"color\", \"red\", \"margin-left\", \"20%\"], [4, \"ngIf\", \"ngIfThen\", \"ngIfElse\"], [\"checkDesabilitado\", \"\"], [\"checkHabilitado\", \"\"], [1, \"form-check\", \"form-switch\", \"checkboxTiendaDisponible\"], [\"type\", \"checkbox\", \"role\", \"switch\", \"checked\", \"\", \"disabled\", \"\", 1, \"form-check-input\", 3, \"id\", \"change\"], [\"for\", \"flexSwitchCheckCheckedDisabled\", 1, \"form-check-label\"], [\"type\", \"checkbox\", \"role\", \"switch\", 1, \"form-check-input\", 3, \"id\", \"change\"], [\"for\", \"flexSwitchCheckDefault\", 1, \"form-check-label\"]],\n  template: function UsersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"table\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵtext(5, \" U S U A R I O S \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 5);\n      i0.ɵɵelementStart(7, \"table\", 6);\n      i0.ɵɵelementStart(8, \"thead\");\n      i0.ɵɵelementStart(9, \"tr\");\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Roles\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Opciones\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(18, UsersComponent_tbody_18_Template, 24, 8, \"tbody\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(19, \"p\");\n      i0.ɵɵelementStart(20, \"div\", 8);\n      i0.ɵɵelementStart(21, \"button\", 9);\n      i0.ɵɵtext(22, \" Nuevo Administrador GLOBAL \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 10);\n      i0.ɵɵelementStart(24, \"div\", 11);\n      i0.ɵɵelementStart(25, \"div\", 12);\n      i0.ɵɵelementStart(26, \"div\", 13);\n      i0.ɵɵelementStart(27, \"h5\", 14);\n      i0.ɵɵtext(28, \"Tiendas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"button\", 15);\n      i0.ɵɵelementStart(30, \"span\", 16);\n      i0.ɵɵtext(31, \"\\u00D7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 17);\n      i0.ɵɵelementStart(33, \"form\", 18);\n      i0.ɵɵlistener(\"submit\", function UsersComponent_Template_form_submit_33_listener() {\n        return ctx.guardarSeleccion();\n      });\n      i0.ɵɵelementStart(34, \"div\", 19);\n      i0.ɵɵelementStart(35, \"div\", 20);\n      i0.ɵɵtext(36, \" Tiendas disponibles \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\", 21);\n      i0.ɵɵtemplate(38, UsersComponent_div_38_Template, 6, 3, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"div\", 22);\n      i0.ɵɵelementStart(40, \"div\");\n      i0.ɵɵelementStart(41, \"div\", 23);\n      i0.ɵɵelementStart(42, \"div\");\n      i0.ɵɵelementStart(43, \"button\", 24);\n      i0.ɵɵlistener(\"click\", function UsersComponent_Template_button_click_43_listener() {\n        return ctx.guardarSeleccion();\n      });\n      i0.ɵɵtext(44, \"Guardar Cambios\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"div\");\n      i0.ɵɵelementStart(46, \"button\", 25);\n      i0.ɵɵtext(47, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.usuarios);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c2));\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.estadoDeTiendas);\n    }\n  },\n  directives: [i4.NgForOf, i2.RouterLink, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i4.NgIf, i2.RouterLinkWithHref],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/CESAR/apiREST-LenguaDeLoro/frontendLenguaDeLoro/src/app/components/users/users.component.ts"],"names":["global","DialogquitartiendaComponent","i0","i1","i2","i3","i4","i5","UsersComponent_tbody_18_p_7_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","role_r8","$implicit","ɵɵadvance","ɵɵtextInterpolate1","roleName","_c0","a1","_c1","UsersComponent_tbody_18_p_9_Template","_r11","ɵɵgetCurrentView","ɵɵelement","ɵɵlistener","UsersComponent_tbody_18_p_9_Template_a_click_5_listener","ɵɵrestoreView","usuario_r2","ɵɵnextContext","ctx_r9","pidoEliminar","_id","ɵɵproperty","ɵɵpureFunction1","UsersComponent_tbody_18_p_10_Template","_r15","UsersComponent_tbody_18_p_10_Template_a_click_1_listener","ctx_r13","deleteUsuario","UsersComponent_tbody_18_p_10_Template_a_click_2_listener","ctx_r16","UsersComponent_tbody_18_p_10_Template_a_click_4_listener","ctx_r18","pidoCancelarEliminar","UsersComponent_tbody_18_div_18_div_4_Template","sucursal_r21","ɵɵtextInterpolate","branchName","UsersComponent_tbody_18_div_18_Template","ɵɵtemplate","tienda_r19","store","storeName","branches","UsersComponent_tbody_18_Template","_r23","UsersComponent_tbody_18_Template_button_click_22_listener","restoredCtx","ctx_r22","openDialogAsignacionDeTiendas","i_r3","index","ctx_r0","ɵɵattribute","username","email","roles","consultoEstadoEliminar","tiendas","UsersComponent_div_38_div_1_Template","UsersComponent_div_38_ng_template_2_Template","_r31","UsersComponent_div_38_ng_template_2_Template_input_change_1_listener","$event","ctx_r30","onCheckChange","tienda_r24","ɵɵpropertyInterpolate","UsersComponent_div_38_ng_template_4_Template","_r34","UsersComponent_div_38_ng_template_4_Template_input_change_1_listener","ctx_r33","UsersComponent_div_38_Template","ɵɵtemplateRefExtractor","_r26","ɵɵreference","_r28","asignada","_c2","UsersComponent","constructor","_userService","_router","dialog","tiendasSeleccionadas","estadoDeTiendas","url","title","ngOnInit","enviarTiendasSeleccionadasAsignacion","subscribe","data","console","log","branch","reasignarTiendas","usrSelecionado","getUsersAndPopulate","next","v","usuarios","forEach","usuario","role","error","e","complete","info","idUsuario","onChange","tiendaId","isChecked","push","indexOf","splice","usuarioId","every","adminMasterTiendas","dialogRef","open","width","height","afterClosed","result","listaTiendasSeleccionadas","userId","navigate","listarLasTiendas","accion","usrAlQLQuieroAddTienda","length","contador","adminMasterTienda","objTienda","contadorUsuario","usuarioTienda","tienda","event","target","checked","id","guardarSeleccion","tiendasSeleccionada","addStoreToUserFromRoute","storeId","testClick","quieroEliminarEsteUsuario","getUsers","ɵfac","UsersComponent_Factory","t","ɵɵdirectiveInject","UserService","Router","MatDialog","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","UsersComponent_Template","UsersComponent_Template_form_submit_33_listener","UsersComponent_Template_button_click_43_listener","ɵɵpureFunction0","directives","NgForOf","RouterLink","ɵNgNoValidate","NgControlStatusGroup","NgForm","NgIf","RouterLinkWithHref","encapsulation"],"mappings":"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","sourcesContent":["import { global } from 'src/app/services/global';\r\nimport { DialogquitartiendaComponent } from './dialogs/dialogquitartienda/dialogquitartienda.component';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/user.service\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"@angular/material/dialog\";\r\nimport * as i4 from \"@angular/common\";\r\nimport * as i5 from \"@angular/forms\";\r\nfunction UsersComponent_tbody_18_p_7_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"p\");\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const role_r8 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", role_r8.roleName, \" \");\r\n} }\r\nconst _c0 = function (a1) { return [\"/productos/producto\", a1]; };\r\nconst _c1 = function (a1) { return [\"/productos/editar/\", a1]; };\r\nfunction UsersComponent_tbody_18_p_9_Template(rf, ctx) { if (rf & 1) {\r\n    const _r11 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"p\");\r\n    i0.ɵɵelementStart(1, \"a\", 34);\r\n    i0.ɵɵelement(2, \"i\", 35);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"a\", 34);\r\n    i0.ɵɵelement(4, \"i\", 36);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"a\", 37);\r\n    i0.ɵɵlistener(\"click\", function UsersComponent_tbody_18_p_9_Template_a_click_5_listener() { i0.ɵɵrestoreView(_r11); const usuario_r2 = i0.ɵɵnextContext().$implicit; const ctx_r9 = i0.ɵɵnextContext(); return ctx_r9.pidoEliminar(usuario_r2._id); });\r\n    i0.ɵɵelement(6, \"i\", 38);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const usuario_r2 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c0, usuario_r2._id));\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c1, usuario_r2._id));\r\n} }\r\nfunction UsersComponent_tbody_18_p_10_Template(rf, ctx) { if (rf & 1) {\r\n    const _r15 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"p\");\r\n    i0.ɵɵelementStart(1, \"a\", 39);\r\n    i0.ɵɵlistener(\"click\", function UsersComponent_tbody_18_p_10_Template_a_click_1_listener() { i0.ɵɵrestoreView(_r15); const usuario_r2 = i0.ɵɵnextContext().$implicit; const ctx_r13 = i0.ɵɵnextContext(); return ctx_r13.deleteUsuario(usuario_r2._id); });\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(2, \"a\", 39);\r\n    i0.ɵɵlistener(\"click\", function UsersComponent_tbody_18_p_10_Template_a_click_2_listener() { i0.ɵɵrestoreView(_r15); const usuario_r2 = i0.ɵɵnextContext().$implicit; const ctx_r16 = i0.ɵɵnextContext(); return ctx_r16.deleteUsuario(usuario_r2._id); });\r\n    i0.ɵɵelement(3, \"i\", 40);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"a\", 39);\r\n    i0.ɵɵlistener(\"click\", function UsersComponent_tbody_18_p_10_Template_a_click_4_listener() { i0.ɵɵrestoreView(_r15); const ctx_r18 = i0.ɵɵnextContext(2); return ctx_r18.pidoCancelarEliminar(); });\r\n    i0.ɵɵelement(5, \"i\", 41);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction UsersComponent_tbody_18_div_18_div_4_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵelementStart(1, \"p\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const sucursal_r21 = ctx.$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(sucursal_r21.branchName);\r\n} }\r\nfunction UsersComponent_tbody_18_div_18_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵelementStart(1, \"p\");\r\n    i0.ɵɵelementStart(2, \"strong\");\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(4, UsersComponent_tbody_18_div_18_div_4_Template, 3, 1, \"div\", 7);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const tienda_r19 = ctx.$implicit;\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(tienda_r19.store.storeName);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", tienda_r19.branches);\r\n} }\r\nfunction UsersComponent_tbody_18_Template(rf, ctx) { if (rf & 1) {\r\n    const _r23 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"tbody\");\r\n    i0.ɵɵelementStart(1, \"tr\", 26);\r\n    i0.ɵɵelementStart(2, \"td\");\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"td\");\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(6, \"td\");\r\n    i0.ɵɵtemplate(7, UsersComponent_tbody_18_p_7_Template, 2, 1, \"p\", 7);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"td\");\r\n    i0.ɵɵtemplate(9, UsersComponent_tbody_18_p_9_Template, 7, 6, \"p\", 27);\r\n    i0.ɵɵtemplate(10, UsersComponent_tbody_18_p_10_Template, 6, 0, \"p\", 27);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(11, \"tr\");\r\n    i0.ɵɵelementStart(12, \"td\", 28);\r\n    i0.ɵɵelementStart(13, \"div\", 29);\r\n    i0.ɵɵelementStart(14, \"div\", 30);\r\n    i0.ɵɵelementStart(15, \"div\", 4);\r\n    i0.ɵɵtext(16, \" T i e n d a s \");\r\n    i0.ɵɵelement(17, \"hr\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(18, UsersComponent_tbody_18_div_18_Template, 5, 2, \"div\", 7);\r\n    i0.ɵɵelement(19, \"hr\");\r\n    i0.ɵɵelementStart(20, \"div\", 31);\r\n    i0.ɵɵelement(21, \"div\", 32);\r\n    i0.ɵɵelementStart(22, \"button\", 33);\r\n    i0.ɵɵlistener(\"click\", function UsersComponent_tbody_18_Template_button_click_22_listener() { const restoredCtx = i0.ɵɵrestoreView(_r23); const usuario_r2 = restoredCtx.$implicit; const ctx_r22 = i0.ɵɵnextContext(); return ctx_r22.openDialogAsignacionDeTiendas(usuario_r2._id); });\r\n    i0.ɵɵtext(23, \" Re-asignar tiendas \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const usuario_r2 = ctx.$implicit;\r\n    const i_r3 = ctx.index;\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵattribute(\"href\", \"#tiendascollapse_\" + i_r3);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(usuario_r2.username);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(usuario_r2.email);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngForOf\", usuario_r2.roles);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.consultoEstadoEliminar(usuario_r2._id) == false);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.consultoEstadoEliminar(usuario_r2._id) == true);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"id\", \"tiendascollapse_\" + i_r3);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngForOf\", usuario_r2.tiendas);\r\n} }\r\nfunction UsersComponent_div_38_div_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"div\");\r\n} }\r\nfunction UsersComponent_div_38_ng_template_2_Template(rf, ctx) { if (rf & 1) {\r\n    const _r31 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 45);\r\n    i0.ɵɵelementStart(1, \"input\", 46);\r\n    i0.ɵɵlistener(\"change\", function UsersComponent_div_38_ng_template_2_Template_input_change_1_listener($event) { i0.ɵɵrestoreView(_r31); const ctx_r30 = i0.ɵɵnextContext(2); return ctx_r30.onCheckChange($event); });\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(2, \"label\", 47);\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const tienda_r24 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵpropertyInterpolate(\"id\", tienda_r24.store._id);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\"\", tienda_r24.store.storeName, \" -+ \");\r\n} }\r\nfunction UsersComponent_div_38_ng_template_4_Template(rf, ctx) { if (rf & 1) {\r\n    const _r34 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 45);\r\n    i0.ɵɵelementStart(1, \"input\", 48);\r\n    i0.ɵɵlistener(\"change\", function UsersComponent_div_38_ng_template_4_Template_input_change_1_listener($event) { i0.ɵɵrestoreView(_r34); const ctx_r33 = i0.ɵɵnextContext(2); return ctx_r33.onCheckChange($event); });\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(2, \"label\", 49);\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const tienda_r24 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵpropertyInterpolate(\"id\", tienda_r24.store._id);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\"\", tienda_r24.store.storeName, \" -* \");\r\n} }\r\nfunction UsersComponent_div_38_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵtemplate(1, UsersComponent_div_38_div_1_Template, 1, 0, \"div\", 42);\r\n    i0.ɵɵtemplate(2, UsersComponent_div_38_ng_template_2_Template, 4, 2, \"ng-template\", null, 43, i0.ɵɵtemplateRefExtractor);\r\n    i0.ɵɵtemplate(4, UsersComponent_div_38_ng_template_4_Template, 4, 2, \"ng-template\", null, 44, i0.ɵɵtemplateRefExtractor);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const tienda_r24 = ctx.$implicit;\r\n    const _r26 = i0.ɵɵreference(3);\r\n    const _r28 = i0.ɵɵreference(5);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", tienda_r24.asignada == true)(\"ngIfThen\", _r26)(\"ngIfElse\", _r28);\r\n} }\r\nconst _c2 = function () { return [\"/usuarios/crearUsuario\"]; };\r\nexport class UsersComponent {\r\n    constructor(_userService, _router, dialog) {\r\n        this._userService = _userService;\r\n        this._router = _router;\r\n        this.dialog = dialog;\r\n        this.tiendasSeleccionadas = [];\r\n        this.estadoDeTiendas = []; // es un array de todas las stores que tiene el adminMaster + un booleano asignada:true/false que me dice si el usuario ya la tiene asignada o no\r\n        this.url = global.url,\r\n            this.title = \"U S U A R I O S\";\r\n    }\r\n    ngOnInit() {\r\n        this._userService.enviarTiendasSeleccionadasAsignacion.subscribe(data => {\r\n            console.log(\"MENSAJE: enviarTiendasSeleccionadasAsignacion - reciendo la lista de tiendas seleccionadas para asignacion de tiendas.\");\r\n            for (const branch in data.data) {\r\n                console.log(`${branch}: ${data.data[branch]}`);\r\n                if (`${data.data[branch]}` == \"true\") {\r\n                    console.log(\"Tengo que asignar esta tienda: \" + `${branch}`);\r\n                }\r\n                else {\r\n                    console.log(\"esta tienda NO: \" + `${branch}`);\r\n                }\r\n            }\r\n            this.reasignarTiendas(data.data, this.usrSelecionado._id);\r\n        });\r\n        // busco todos los usuarios para poder cargar la tabla de usuarios\r\n        this.getUsersAndPopulate();\r\n    }\r\n    async getUsersAndPopulate() {\r\n        console.log(\"MENSAJE: Obteniendo lista de usuarios...\");\r\n        await this._userService.getUsersAndPopulate()\r\n            .subscribe({\r\n            next: (v) => {\r\n                console.log(\"MENSAJE: Lista de usuarios obtenida con exito\");\r\n                console.log(v);\r\n                this.usuarios = v;\r\n                this.usuarios.forEach((usuario) => {\r\n                    console.log(\"el rol\");\r\n                    usuario.roles.forEach((role) => {\r\n                        console.log(role.roleName);\r\n                    });\r\n                });\r\n            },\r\n            error: (e) => console.error(e),\r\n            complete: () => console.info('este es el complete')\r\n        });\r\n    }\r\n    deleteUsuario(idUsuario) {\r\n        console.log(\"intento eliminar el usuario\");\r\n    }\r\n    onChange(tiendaId, isChecked) {\r\n        if (isChecked) {\r\n            console.log(\"agrego la tienda \" + tiendaId + \" al array de tiendas seleccionadassss desde le onChange()\");\r\n            this.tiendasSeleccionadas.push(tiendaId);\r\n        }\r\n        else {\r\n            let index = this.tiendasSeleccionadas.indexOf(tiendaId);\r\n            this.tiendasSeleccionadas.splice(index, 1);\r\n        }\r\n    }\r\n    openDialogAsignacionDeTiendas(usuarioId) {\r\n        // al dialog le tengo que pasar lo diguiente:\r\n        //  - las tiendas del adminMaster. Lo voy a usar como referencia de todas las tiendas y sus branches que hay actualemtente\r\n        //  - el user a que quiero agregarle/quitarle una tienda o una branch\r\n        //Localizo al admin Master\r\n        this.usuarios.every((usuario) => {\r\n            if (usuario.roles[0].roleName === 'adminMaster') {\r\n                this.adminMasterTiendas = usuario.tiendas;\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        ////////////////////////////////////\r\n        //Localizo el usuario que quiero modificar\r\n        this.usuarios.every((usuario) => {\r\n            if (usuario._id === usuarioId) {\r\n                this.usrSelecionado = usuario;\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        ////////////////////////////////////\r\n        // this.listarLasTiendas(usuarioId,\"quitar\")\r\n        const dialogRef = this.dialog.open(DialogquitartiendaComponent, {\r\n            width: '50%',\r\n            height: '50%',\r\n            data: {\r\n                'usrSelecionado': this.usrSelecionado,\r\n                'adminMasterTiendas': this.adminMasterTiendas,\r\n            }\r\n        });\r\n        dialogRef.afterClosed().subscribe(result => {\r\n            console.log(`Dialog result: ${result}`);\r\n        });\r\n    }\r\n    reasignarTiendas(listaTiendasSeleccionadas, userId) {\r\n        this._userService.reasignarTiendas(listaTiendasSeleccionadas, userId)\r\n            .subscribe({\r\n            next: (v) => {\r\n                console.log(v);\r\n                this.getUsersAndPopulate();\r\n                this._router.navigate(['/usuarios']);\r\n            },\r\n            error: (e) => console.error(e),\r\n            complete: () => console.info('este es el complete del addStoreToUserFromRoute()')\r\n        });\r\n    }\r\n    listarLasTiendas(usuarioId, accion) {\r\n        this.usrAlQLQuieroAddTienda = usuarioId;\r\n        //vacio el array de estadoDeTiendas\r\n        this.estadoDeTiendas.splice(0, this.estadoDeTiendas.length);\r\n        //vacio el array de tiendasSeleccionadas\r\n        this.tiendasSeleccionadas.splice(0, this.tiendasSeleccionadas.length);\r\n        //voy a buscar el adminMaster para obtener el listado de todas las tiendas.\r\n        this.usuarios.every((usuario) => {\r\n            if (usuario.roles[0].roleName === 'adminMaster') {\r\n                this.adminMasterTiendas = usuario.tiendas;\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        //voy a buscar el usuario por el id que me pasan y lleno el array de tiendasAsignadas a este usuario\r\n        this.usuarios.every((usuario) => {\r\n            //voy a llenar el array tiendasAsignadas con objetos de tipo objTienda\r\n            if (usuario._id == usuarioId) {\r\n                if (usuario.tiendas.length > 0) { // <-- esto me dice si el usuario tiene alguna tienda asignada o no tiene ninguna. si es =0 meto todas las tiendas con el parametro asignadas=false\r\n                    //reviso todas las tiendas que tiene para saber si el estado de objTienda.asignada va a ser true o false\r\n                    var contador = 0;\r\n                    this.adminMasterTiendas.forEach((adminMasterTienda) => {\r\n                        //inicializo un objeto tienda para tenerlo precargado\r\n                        let objTienda = {\r\n                            'store': \"\",\r\n                            'asignada': false\r\n                        };\r\n                        contador = contador + 1;\r\n                        objTienda.store = adminMasterTienda.store;\r\n                        objTienda.asignada = false;\r\n                        //ahora voy a recorrer el las tiendas del usuario para hacer un mach \r\n                        var contadorUsuario = 0;\r\n                        usuario.tiendas.every((usuarioTienda) => {\r\n                            contadorUsuario = contadorUsuario + 1;\r\n                            if (adminMasterTienda.store._id == usuarioTienda.store._id) {\r\n                                //agrego la tienda al array de tiendas seleccionadas\r\n                                this.tiendasSeleccionadas.push(adminMasterTienda.store._id);\r\n                                objTienda.asignada = true;\r\n                                return false;\r\n                            }\r\n                            return true;\r\n                        });\r\n                        this.estadoDeTiendas.push(objTienda);\r\n                    });\r\n                }\r\n                else {\r\n                    //meto todas las tiendas con el parametro asignadas=false\r\n                    this.adminMasterTiendas.forEach((tienda) => {\r\n                        let objTienda = {\r\n                            'store': \"\",\r\n                            'asignada': false\r\n                        };\r\n                        objTienda.store = tienda.store;\r\n                        objTienda.asignada = false;\r\n                        this.estadoDeTiendas.push(objTienda);\r\n                    });\r\n                    console.log(this.adminMasterTiendas);\r\n                    console.log(this.estadoDeTiendas);\r\n                }\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        console.log(\"estas son las tiendasAsignadas FINALLLLLLL\");\r\n        console.log(this.estadoDeTiendas);\r\n    }\r\n    onCheckChange(event) {\r\n        //console.log(\"elvenettttt \", event)\r\n        if (event.target.checked) {\r\n            //console.log(\"agrego la tienda al array de tiendas seleccionadas \" + event.target.id + \" desde el onCheckChange()\")\r\n            //console.log(\"este es el array de tiendasSeleccionadas antes de hacer el push\")\r\n            //console.log(this.tiendasSeleccionadas)\r\n            this.tiendasSeleccionadas.push(event.target.id);\r\n            console.log(\"este es el array de tiendasSeleccionadas DESPUES del push\");\r\n            console.log(this.tiendasSeleccionadas);\r\n        }\r\n        else {\r\n            //console.log(\"SACO la tienda al array de tiendas seleccionadas \" + event.target.id + \" desde el onCheckChange()\")\r\n            //console.log(\"este es el array de tiendasSeleccionadas antes de hacer el splice\")\r\n            //console.log(this.tiendasSeleccionadas)\r\n            let index = this.tiendasSeleccionadas.indexOf(event.target.id);\r\n            this.tiendasSeleccionadas.splice(index, 1);\r\n            console.log(\"este es el array de tiendasSeleccionadas DESPUES de hacer el splice\");\r\n            console.log(this.tiendasSeleccionadas);\r\n        }\r\n    }\r\n    guardarSeleccion() {\r\n        console.log(\"GUARDO!\");\r\n        console.log(this.tiendasSeleccionadas);\r\n        this.tiendasSeleccionadas.forEach((tiendasSeleccionada) => {\r\n            console.log(\"intentando asignar la tienda \" + tiendasSeleccionada + \" al user \" + this.usrAlQLQuieroAddTienda);\r\n            this.addStoreToUserFromRoute(this.usrAlQLQuieroAddTienda, tiendasSeleccionada);\r\n            console.log(\"esta es una tienda seleccionada\");\r\n            console.log(tiendasSeleccionada);\r\n        });\r\n    }\r\n    addStoreToUserFromRoute(userId, storeId) {\r\n        this._userService.addStoreToUserFromRoute(userId, storeId)\r\n            .subscribe({\r\n            next: (v) => {\r\n                console.log(\"this._userService.addStoreToUserFromRoute(userId, storeId)\");\r\n                console.log(\"this._userService.addStoreToUserFromRoute(\" + userId + \", \" + storeId + \")\");\r\n                console.log(v);\r\n                this.getUsersAndPopulate();\r\n                this._router.navigate(['/usuarios']);\r\n            },\r\n            error: (e) => console.error(e),\r\n            complete: () => console.info('este es el complete del addStoreToUserFromRoute()')\r\n        });\r\n    }\r\n    testClick() {\r\n        console.log(\"hice click en el boton\");\r\n    }\r\n    pidoEliminar(idUsuario) {\r\n        this.quieroEliminarEsteUsuario = idUsuario;\r\n        console.log(\"es este: \" + this.quieroEliminarEsteUsuario);\r\n    }\r\n    consultoEstadoEliminar(idUsuario) {\r\n        if (idUsuario == this.quieroEliminarEsteUsuario)\r\n            return true;\r\n        return false;\r\n    }\r\n    pidoCancelarEliminar() {\r\n        this.quieroEliminarEsteUsuario = \"\";\r\n    }\r\n    async getUsers() {\r\n        this._userService.getUsers()\r\n            .subscribe({\r\n            next: (v) => {\r\n                console.log(\"estos son los usuarios\");\r\n                console.log(v);\r\n                this.usuarios = v;\r\n            },\r\n            error: (e) => console.error(e),\r\n            complete: () => console.info('este es el complete')\r\n        });\r\n    }\r\n}\r\nUsersComponent.ɵfac = function UsersComponent_Factory(t) { return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MatDialog)); };\r\nUsersComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: UsersComponent, selectors: [[\"app-users\"]], decls: 48, vars: 4, consts: [[1, \"table\"], [1, \"container\"], [1, \"col-md-12\"], [1, \"panel\", \"panel-default\"], [1, \"panel-heading\"], [1, \"panel-body\"], [1, \"table\", \"table-condensed\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", \"data-backdrop\", \"static\", \"data-keyboard\", \"false\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [3, \"submit\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"modal-footer\"], [1, \"row\"], [\"type\", \"submit\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"click\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"data-bs-toggle\", \"collapse\", \"role\", \"button\", \"aria-expanded\", \"false\", \"aria-controls\", \"collapseExample\"], [4, \"ngIf\"], [\"colspan\", \"3\"], [1, \"collapse\", 3, \"id\"], [1, \"card\", \"card-body\"], [1, \"row\", \"justify-content-center\"], [1, \"justify-content-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"iconoenlinea\", 3, \"routerLink\"], [1, \"fas\", \"fa-eye\", 2, \"margin-left\", \"5%\"], [1, \"fa-solid\", \"fa-pencil\", 2, \"margin-left\", \"5%\"], [1, \"iconoenlinea\", 3, \"click\"], [1, \"fas\", \"fa-trash-alt\", 2, \"margin-left\", \"5%\"], [3, \"click\"], [1, \"fas\", \"fa-check\", 2, \"color\", \"rgb(24, 185, 24)\"], [1, \"fas\", \"fa-check\", 2, \"color\", \"red\", \"margin-left\", \"20%\"], [4, \"ngIf\", \"ngIfThen\", \"ngIfElse\"], [\"checkDesabilitado\", \"\"], [\"checkHabilitado\", \"\"], [1, \"form-check\", \"form-switch\", \"checkboxTiendaDisponible\"], [\"type\", \"checkbox\", \"role\", \"switch\", \"checked\", \"\", \"disabled\", \"\", 1, \"form-check-input\", 3, \"id\", \"change\"], [\"for\", \"flexSwitchCheckCheckedDisabled\", 1, \"form-check-label\"], [\"type\", \"checkbox\", \"role\", \"switch\", 1, \"form-check-input\", 3, \"id\", \"change\"], [\"for\", \"flexSwitchCheckDefault\", 1, \"form-check-label\"]], template: function UsersComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"table\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 2);\r\n        i0.ɵɵelementStart(3, \"div\", 3);\r\n        i0.ɵɵelementStart(4, \"div\", 4);\r\n        i0.ɵɵtext(5, \" U S U A R I O S \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(6, \"div\", 5);\r\n        i0.ɵɵelementStart(7, \"table\", 6);\r\n        i0.ɵɵelementStart(8, \"thead\");\r\n        i0.ɵɵelementStart(9, \"tr\");\r\n        i0.ɵɵelementStart(10, \"th\");\r\n        i0.ɵɵtext(11, \"Nombre\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(12, \"th\");\r\n        i0.ɵɵtext(13, \"Email\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"th\");\r\n        i0.ɵɵtext(15, \"Roles\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"th\");\r\n        i0.ɵɵtext(17, \"Opciones\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(18, UsersComponent_tbody_18_Template, 24, 8, \"tbody\", 7);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(19, \"p\");\r\n        i0.ɵɵelementStart(20, \"div\", 8);\r\n        i0.ɵɵelementStart(21, \"button\", 9);\r\n        i0.ɵɵtext(22, \" Nuevo Administrador GLOBAL \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(23, \"div\", 10);\r\n        i0.ɵɵelementStart(24, \"div\", 11);\r\n        i0.ɵɵelementStart(25, \"div\", 12);\r\n        i0.ɵɵelementStart(26, \"div\", 13);\r\n        i0.ɵɵelementStart(27, \"h5\", 14);\r\n        i0.ɵɵtext(28, \"Tiendas\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(29, \"button\", 15);\r\n        i0.ɵɵelementStart(30, \"span\", 16);\r\n        i0.ɵɵtext(31, \"\\u00D7\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(32, \"div\", 17);\r\n        i0.ɵɵelementStart(33, \"form\", 18);\r\n        i0.ɵɵlistener(\"submit\", function UsersComponent_Template_form_submit_33_listener() { return ctx.guardarSeleccion(); });\r\n        i0.ɵɵelementStart(34, \"div\", 19);\r\n        i0.ɵɵelementStart(35, \"div\", 20);\r\n        i0.ɵɵtext(36, \" Tiendas disponibles \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(37, \"div\", 21);\r\n        i0.ɵɵtemplate(38, UsersComponent_div_38_Template, 6, 3, \"div\", 7);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(39, \"div\", 22);\r\n        i0.ɵɵelementStart(40, \"div\");\r\n        i0.ɵɵelementStart(41, \"div\", 23);\r\n        i0.ɵɵelementStart(42, \"div\");\r\n        i0.ɵɵelementStart(43, \"button\", 24);\r\n        i0.ɵɵlistener(\"click\", function UsersComponent_Template_button_click_43_listener() { return ctx.guardarSeleccion(); });\r\n        i0.ɵɵtext(44, \"Guardar Cambios\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(45, \"div\");\r\n        i0.ɵɵelementStart(46, \"button\", 25);\r\n        i0.ɵɵtext(47, \"Close\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(18);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.usuarios);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c2));\r\n        i0.ɵɵadvance(17);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.estadoDeTiendas);\r\n    } }, directives: [i4.NgForOf, i2.RouterLink, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i4.NgIf, i2.RouterLinkWithHref], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}