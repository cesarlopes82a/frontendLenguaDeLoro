{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\CESAR\\\\apiREST-LenguaDeLoro\\\\frontendLenguaDeLoro\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { AuthService } from 'src/app/services/auth.service';\nimport { global } from 'src/app/services/global';\nimport { UserService } from 'src/app/services/user.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"src/app/services/user.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\n\nfunction NavbarComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 14);\n    i0.ɵɵtext(2, \"Lengua De Loro\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction NavbarComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_ng_template_4_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.inputSideNav.toggle();\n    });\n    i0.ɵɵtext(1, \"Lengua De Loro\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NavbarComponent_ng_container_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"li\", 9);\n    i0.ɵɵelementStart(2, \"a\", 16);\n    i0.ɵɵtext(3, \"Signup\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"li\", 9);\n    i0.ɵɵelementStart(5, \"a\", 17);\n    i0.ɵɵtext(6, \"Signin\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction NavbarComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 9);\n    i0.ɵɵelementStart(1, \"a\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"li\", 9);\n    i0.ɵɵelementStart(4, \"a\", 18);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"li\", 9);\n    i0.ɵɵelementStart(7, \"a\", 18);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"li\", 9);\n    i0.ɵɵelement(10, \"a\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"li\", 9);\n    i0.ɵɵelementStart(12, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_ng_template_18_Template_a_click_12_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.inputSideNav.close();\n    })(\"click\", function NavbarComponent_ng_template_18_Template_a_click_12_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10._authService.logout();\n    });\n    i0.ɵɵtext(13, \"Logout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.loggedUserName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r5.loggedUserEmail);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r5.loggedUserRole);\n  }\n}\n\nexport class NavbarComponent {\n  constructor(_authService, _userService) {\n    var _this = this;\n\n    this._authService = _authService;\n    this._userService = _userService;\n    this.loggedUserName = global.loggedUserName;\n    this.loggedUserEmail = global.loggedUserEmail;\n    this.loggedUserRole = global.loggedUserRole;\n    this.loggedUser = null;\n\n    this.getUserByIdAndPopulateStores = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (userId) {\n        console.log(\"getUserByIdAndPopulateStores() desde el navbar    id: \" + userId);\n\n        _this._userService.getUserByIdAndPopulateStores(userId).subscribe({\n          next: v => {\n            console.log(\"viene el next con lo que meti dentro de global.loggedUser\");\n            console.log(v);\n            _this.loggedUser = v;\n            global.loggedUser = _this.loggedUser;\n            global.reloadNeeded = false;\n          },\n          error: e => console.error(e),\n          complete: () => console.info('este es el complete')\n        });\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n\n  ngOnInit() {\n    console.log(\"MENSAJE: NavbarComponent - OnInit navbar.\");\n    this.loggedUserName = String(localStorage.getItem(\"loggedUserName\"));\n    this.loggedUserEmail = String(localStorage.getItem(\"loggedUserEmail\"));\n    this.loggedUserRole = String(localStorage.getItem(\"loggedUserRole\"));\n\n    let tocken = this._authService.getToken();\n\n    if (tocken) {\n      console.log(\"MENSAJE: Token existente...\");\n\n      let tockenDecoded = this._authService.getDecodedAccessToken(tocken);\n\n      console.log(tockenDecoded);\n    }\n\n    if (this._authService.loggedIn()) {\n      console.log(\"MENSAJE: Token no encontrado.\");\n\n      const userId = this._authService.getDecodedAccessToken(String(this._authService.getToken())).id;\n\n      this.getUserByIdAndPopulateStores(userId);\n      this.inputSideNav.open();\n      console.log(\"tiro el opeeeennnnn-----------------------------\");\n    }\n  }\n\n  ngAfterViewInit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this2._authService.loggedIn()) {\n        //this.inputSideNav.open()\n        console.log(\"tiro el opeeeennnnn\");\n      }\n    })();\n  }\n\n}\n\nNavbarComponent.ɵfac = function NavbarComponent_Factory(t) {\n  return new (t || NavbarComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.UserService));\n};\n\nNavbarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NavbarComponent,\n  selectors: [[\"app-navbar\"]],\n  inputs: {\n    inputSideNav: \"inputSideNav\"\n  },\n  features: [i0.ɵɵProvidersFeature([AuthService, UserService])],\n  decls: 20,\n  vars: 4,\n  consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-light\"], [1, \"container\"], [1, \"container-fluid\"], [4, \"ngIf\", \"ngIfElse\"], [\"sidebarShowEnabled\", \"\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarNav\", \"aria-controls\", \"navbarNav\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarNav\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\"], [1, \"nav-item\"], [\"routerLink\", \"/global\", \"routerLinkActive\", \"active\", 1, \"nav-link\"], [\"routerLink\", \"/private\", \"routerLinkActive\", \"active\", 1, \"nav-link\"], [1, \"navbar-nav\", \"ml-auto\"], [\"loggedIn\", \"\"], [\"routerLink\", \"/private\", 1, \"navbar-brand\"], [1, \"navbar-brand\", 3, \"click\"], [\"routerLink\", \"/signup\", 1, \"nav-link\"], [\"routerLink\", \"/signin\", 1, \"nav-link\"], [1, \"nav-link\"], [1, \"btn\", \"btn-outline-warning\", \"btn-sm\", 2, \"cursor\", \"pointer\", 3, \"click\"]],\n  template: function NavbarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵtemplate(3, NavbarComponent_ng_container_3_Template, 3, 0, \"ng-container\", 3);\n      i0.ɵɵtemplate(4, NavbarComponent_ng_template_4_Template, 2, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementStart(6, \"button\", 5);\n      i0.ɵɵelement(7, \"span\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵelementStart(9, \"ul\", 8);\n      i0.ɵɵelementStart(10, \"li\", 9);\n      i0.ɵɵelementStart(11, \"a\", 10);\n      i0.ɵɵtext(12, \"Global\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"li\", 9);\n      i0.ɵɵelementStart(14, \"a\", 11);\n      i0.ɵɵtext(15, \"Private\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"ul\", 12);\n      i0.ɵɵtemplate(17, NavbarComponent_ng_container_17_Template, 7, 0, \"ng-container\", 3);\n      i0.ɵɵtemplate(18, NavbarComponent_ng_template_18_Template, 14, 3, \"ng-template\", null, 13, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(5);\n\n      const _r4 = i0.ɵɵreference(19);\n\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", !ctx._authService.loggedIn())(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngIf\", !ctx._authService.loggedIn())(\"ngIfElse\", _r4);\n    }\n  },\n  directives: [i3.NgIf, i4.RouterLinkWithHref, i4.RouterLinkActive],\n  encapsulation: 2\n});\n\nwindow.onload = function () {\n  console.log('OkkkkkkkkkkkK'); // this.inputSideNav.toggle()\n};","map":{"version":3,"sources":["C:/Users/CESAR/apiREST-LenguaDeLoro/frontendLenguaDeLoro/src/app/components/navbar/navbar.component.ts"],"names":["AuthService","global","UserService","i0","i1","i2","i3","i4","NavbarComponent_ng_container_3_Template","rf","ctx","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerEnd","NavbarComponent_ng_template_4_Template","_r7","ɵɵgetCurrentView","ɵɵlistener","NavbarComponent_ng_template_4_Template_a_click_0_listener","ɵɵrestoreView","ctx_r6","ɵɵnextContext","inputSideNav","toggle","NavbarComponent_ng_container_17_Template","NavbarComponent_ng_template_18_Template","_r9","ɵɵelement","NavbarComponent_ng_template_18_Template_a_click_12_listener","ctx_r8","close","ctx_r10","_authService","logout","ctx_r5","ɵɵadvance","ɵɵtextInterpolate","loggedUserName","loggedUserEmail","loggedUserRole","NavbarComponent","constructor","_userService","loggedUser","getUserByIdAndPopulateStores","userId","console","log","subscribe","next","v","reloadNeeded","error","e","complete","info","ngOnInit","String","localStorage","getItem","tocken","getToken","tockenDecoded","getDecodedAccessToken","loggedIn","id","open","ngAfterViewInit","ɵfac","NavbarComponent_Factory","t","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","features","ɵɵProvidersFeature","decls","vars","consts","template","NavbarComponent_Template","ɵɵtemplate","ɵɵtemplateRefExtractor","_r1","ɵɵreference","_r4","ɵɵproperty","directives","NgIf","RouterLinkWithHref","RouterLinkActive","encapsulation","window","onload"],"mappings":"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","sourcesContent":["import { AuthService } from 'src/app/services/auth.service';\r\nimport { global } from 'src/app/services/global';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/auth.service\";\r\nimport * as i2 from \"src/app/services/user.service\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"@angular/router\";\r\nfunction NavbarComponent_ng_container_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵelementStart(1, \"a\", 14);\r\n    i0.ɵɵtext(2, \"Lengua De Loro\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementContainerEnd();\r\n} }\r\nfunction NavbarComponent_ng_template_4_Template(rf, ctx) { if (rf & 1) {\r\n    const _r7 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"a\", 15);\r\n    i0.ɵɵlistener(\"click\", function NavbarComponent_ng_template_4_Template_a_click_0_listener() { i0.ɵɵrestoreView(_r7); const ctx_r6 = i0.ɵɵnextContext(); return ctx_r6.inputSideNav.toggle(); });\r\n    i0.ɵɵtext(1, \"Lengua De Loro\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction NavbarComponent_ng_container_17_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵelementStart(1, \"li\", 9);\r\n    i0.ɵɵelementStart(2, \"a\", 16);\r\n    i0.ɵɵtext(3, \"Signup\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"li\", 9);\r\n    i0.ɵɵelementStart(5, \"a\", 17);\r\n    i0.ɵɵtext(6, \"Signin\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementContainerEnd();\r\n} }\r\nfunction NavbarComponent_ng_template_18_Template(rf, ctx) { if (rf & 1) {\r\n    const _r9 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"li\", 9);\r\n    i0.ɵɵelementStart(1, \"a\", 18);\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"li\", 9);\r\n    i0.ɵɵelementStart(4, \"a\", 18);\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(6, \"li\", 9);\r\n    i0.ɵɵelementStart(7, \"a\", 18);\r\n    i0.ɵɵtext(8);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(9, \"li\", 9);\r\n    i0.ɵɵelement(10, \"a\", 18);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(11, \"li\", 9);\r\n    i0.ɵɵelementStart(12, \"a\", 19);\r\n    i0.ɵɵlistener(\"click\", function NavbarComponent_ng_template_18_Template_a_click_12_listener() { i0.ɵɵrestoreView(_r9); const ctx_r8 = i0.ɵɵnextContext(); return ctx_r8.inputSideNav.close(); })(\"click\", function NavbarComponent_ng_template_18_Template_a_click_12_listener() { i0.ɵɵrestoreView(_r9); const ctx_r10 = i0.ɵɵnextContext(); return ctx_r10._authService.logout(); });\r\n    i0.ɵɵtext(13, \"Logout\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r5 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(ctx_r5.loggedUserName);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(ctx_r5.loggedUserEmail);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(ctx_r5.loggedUserRole);\r\n} }\r\nexport class NavbarComponent {\r\n    constructor(_authService, _userService) {\r\n        this._authService = _authService;\r\n        this._userService = _userService;\r\n        this.loggedUserName = global.loggedUserName;\r\n        this.loggedUserEmail = global.loggedUserEmail;\r\n        this.loggedUserRole = global.loggedUserRole;\r\n        this.loggedUser = null;\r\n        this.getUserByIdAndPopulateStores = async (userId) => {\r\n            console.log(\"getUserByIdAndPopulateStores() desde el navbar    id: \" + userId);\r\n            this._userService.getUserByIdAndPopulateStores(userId)\r\n                .subscribe({\r\n                next: (v) => {\r\n                    console.log(\"viene el next con lo que meti dentro de global.loggedUser\");\r\n                    console.log(v);\r\n                    this.loggedUser = v;\r\n                    global.loggedUser = this.loggedUser;\r\n                    global.reloadNeeded = false;\r\n                },\r\n                error: (e) => console.error(e),\r\n                complete: () => console.info('este es el complete')\r\n            });\r\n        };\r\n    }\r\n    ngOnInit() {\r\n        console.log(\"MENSAJE: NavbarComponent - OnInit navbar.\");\r\n        this.loggedUserName = String(localStorage.getItem(\"loggedUserName\"));\r\n        this.loggedUserEmail = String(localStorage.getItem(\"loggedUserEmail\"));\r\n        this.loggedUserRole = String(localStorage.getItem(\"loggedUserRole\"));\r\n        let tocken = this._authService.getToken();\r\n        if (tocken) {\r\n            console.log(\"MENSAJE: Token existente...\");\r\n            let tockenDecoded = this._authService.getDecodedAccessToken(tocken);\r\n            console.log(tockenDecoded);\r\n        }\r\n        if (this._authService.loggedIn()) {\r\n            console.log(\"MENSAJE: Token no encontrado.\");\r\n            const userId = this._authService.getDecodedAccessToken(String(this._authService.getToken())).id;\r\n            this.getUserByIdAndPopulateStores(userId);\r\n            this.inputSideNav.open();\r\n            console.log(\"tiro el opeeeennnnn-----------------------------\");\r\n        }\r\n    }\r\n    async ngAfterViewInit() {\r\n        if (this._authService.loggedIn()) {\r\n            //this.inputSideNav.open()\r\n            console.log(\"tiro el opeeeennnnn\");\r\n        }\r\n    }\r\n}\r\nNavbarComponent.ɵfac = function NavbarComponent_Factory(t) { return new (t || NavbarComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.UserService)); };\r\nNavbarComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: NavbarComponent, selectors: [[\"app-navbar\"]], inputs: { inputSideNav: \"inputSideNav\" }, features: [i0.ɵɵProvidersFeature([AuthService, UserService])], decls: 20, vars: 4, consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-light\"], [1, \"container\"], [1, \"container-fluid\"], [4, \"ngIf\", \"ngIfElse\"], [\"sidebarShowEnabled\", \"\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarNav\", \"aria-controls\", \"navbarNav\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarNav\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\"], [1, \"nav-item\"], [\"routerLink\", \"/global\", \"routerLinkActive\", \"active\", 1, \"nav-link\"], [\"routerLink\", \"/private\", \"routerLinkActive\", \"active\", 1, \"nav-link\"], [1, \"navbar-nav\", \"ml-auto\"], [\"loggedIn\", \"\"], [\"routerLink\", \"/private\", 1, \"navbar-brand\"], [1, \"navbar-brand\", 3, \"click\"], [\"routerLink\", \"/signup\", 1, \"nav-link\"], [\"routerLink\", \"/signin\", 1, \"nav-link\"], [1, \"nav-link\"], [1, \"btn\", \"btn-outline-warning\", \"btn-sm\", 2, \"cursor\", \"pointer\", 3, \"click\"]], template: function NavbarComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"nav\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 2);\r\n        i0.ɵɵtemplate(3, NavbarComponent_ng_container_3_Template, 3, 0, \"ng-container\", 3);\r\n        i0.ɵɵtemplate(4, NavbarComponent_ng_template_4_Template, 2, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\r\n        i0.ɵɵelementStart(6, \"button\", 5);\r\n        i0.ɵɵelement(7, \"span\", 6);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(8, \"div\", 7);\r\n        i0.ɵɵelementStart(9, \"ul\", 8);\r\n        i0.ɵɵelementStart(10, \"li\", 9);\r\n        i0.ɵɵelementStart(11, \"a\", 10);\r\n        i0.ɵɵtext(12, \"Global\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(13, \"li\", 9);\r\n        i0.ɵɵelementStart(14, \"a\", 11);\r\n        i0.ɵɵtext(15, \"Private\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"ul\", 12);\r\n        i0.ɵɵtemplate(17, NavbarComponent_ng_container_17_Template, 7, 0, \"ng-container\", 3);\r\n        i0.ɵɵtemplate(18, NavbarComponent_ng_template_18_Template, 14, 3, \"ng-template\", null, 13, i0.ɵɵtemplateRefExtractor);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        const _r1 = i0.ɵɵreference(5);\r\n        const _r4 = i0.ɵɵreference(19);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx._authService.loggedIn())(\"ngIfElse\", _r1);\r\n        i0.ɵɵadvance(14);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx._authService.loggedIn())(\"ngIfElse\", _r4);\r\n    } }, directives: [i3.NgIf, i4.RouterLinkWithHref, i4.RouterLinkActive], encapsulation: 2 });\r\nwindow.onload = function () {\r\n    console.log('OkkkkkkkkkkkK');\r\n    // this.inputSideNav.toggle()\r\n};\r\n"]},"metadata":{},"sourceType":"module"}