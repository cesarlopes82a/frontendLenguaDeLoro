{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\CESAR\\\\apiREST-LenguaDeLoro\\\\frontendLenguaDeLoro\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { DialogprecioComponent } from '../../dialogPrecio/dialogprecio/dialogprecio.component';\nimport { productOfLDP } from '../../../../../../models/productOfLDP';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../../../app/services/product.service\";\nimport * as i2 from \"../../../../../../services/listadeprecios.service\";\nimport * as i3 from \"../../../../../../services/user.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/material/dialog\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/material/button\";\n\nfunction NewldpComponent_tbody_43_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\", 22);\n    i0.ɵɵtext(2, \"-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction NewldpComponent_tbody_43_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r7 = i0.ɵɵnextContext().index;\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(2, 1, ctx_r10._productsList[i_r7].fechaUltimaCompra, \"MM/dd/yyyy h:mm:ss\"), \" \");\n  }\n}\n\nfunction NewldpComponent_tbody_43_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\", 22);\n    i0.ɵɵtext(2, \"-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction NewldpComponent_tbody_43_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r7 = i0.ɵɵnextContext().index;\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(2, 1, ctx_r13._productsList[i_r7].costoUnitario, \"$\"));\n  }\n}\n\nfunction NewldpComponent_tbody_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵelementStart(2, \"td\", 22);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 22);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 22);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 22);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 22);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, NewldpComponent_tbody_43_ng_container_12_Template, 3, 0, \"ng-container\", 23);\n    i0.ɵɵtemplate(13, NewldpComponent_tbody_43_ng_template_13_Template, 3, 4, \"ng-template\", null, 24, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtemplate(15, NewldpComponent_tbody_43_ng_container_15_Template, 3, 0, \"ng-container\", 23);\n    i0.ɵɵtemplate(16, NewldpComponent_tbody_43_ng_template_16_Template, 3, 4, \"ng-template\", null, 25, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(18, \"td\", 22);\n    i0.ɵɵelementStart(19, \"div\", 26);\n    i0.ɵɵelementStart(20, \"div\", 6);\n    i0.ɵɵelementStart(21, \"td\", 22);\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 6);\n    i0.ɵɵelementStart(25, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function NewldpComponent_tbody_43_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const i_r7 = restoredCtx.index;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.openDialogPrecio(ctx_r16._productsList[i_r7].costoUnitario, ctx_r16._productsList[i_r7].productName, i_r7);\n    });\n    i0.ɵɵtext(26, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r7 = ctx.index;\n\n    const _r9 = i0.ɵɵreference(14);\n\n    const _r12 = i0.ɵɵreference(17);\n\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i_r7);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3._productsList[i_r7].productName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3._productsList[i_r7].rubro);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3._productsList[i_r7].codigo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3._productsList[i_r7].stock);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3._productsList[i_r7].fechaUltimaCompra === \"-\")(\"ngIfElse\", _r9);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3._productsList[i_r7].fechaUltimaCompra === \"-\")(\"ngIfElse\", _r12);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(23, 10, ctx_r3._productsList[i_r7].precioVenta, \"$\"));\n  }\n}\n\nfunction NewldpComponent_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtext(1, \" Ingrese un \");\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3, \"nombre \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" para la nueva \");\n    i0.ɵɵelementStart(5, \"strong\");\n    i0.ɵɵtext(6, \"Lista de precios\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" antes confirmar! \");\n    i0.ɵɵelementStart(8, \"button\", 29);\n    i0.ɵɵelementStart(9, \"span\", 30);\n    i0.ɵɵtext(10, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NewldpComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtext(1, \" Ingrese una \");\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3, \"descripci\\u00F3n \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" del uso que se le dat\\u00E1 a la nueva Lista de Precios para poder confirmar! \");\n    i0.ɵɵelementStart(5, \"button\", 29);\n    i0.ɵɵelementStart(6, \"span\", 30);\n    i0.ɵɵtext(7, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class NewldpComponent {\n  constructor(_productService, _listadeprecioService, _userService, _route, dialog) {\n    this._productService = _productService;\n    this._listadeprecioService = _listadeprecioService;\n    this._userService = _userService;\n    this._route = _route;\n    this.dialog = dialog;\n    this._productsList = [];\n    this.fechaDeCreacion = new Date().toISOString().split('T')[0];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this._route.params.subscribe(params => {\n        _this.storeId = params['id'];\n\n        _this.getProductosByStoreIdAndPopulate(_this.storeId);\n      });\n\n      _this._listadeprecioService.enviarListId.subscribe(data => {\n        _this._listadeprecioService.setListaId(data.data);\n      });\n\n      _this.listaOrigenId = _this._listadeprecioService.getListaId();\n    })();\n  }\n\n  onSubmit(form) {\n    console.log(\"soy el onsubmit--------------------------\");\n\n    this._listadeprecioService.registrarNuevaLDP(this._productsList, this.ldpNombre, this.ldpDescripcion, this.fechaDeCreacion, this.storeId).subscribe({\n      next: v => {\n        console.log(\"MENSAJE: despues del registrarNuevaLDP\");\n        console.log(v); // this._router.navigate(['/tienda', this.storeId,'productos']);     \n      },\n      error: e => {\n        console.log(e.error);\n      },\n      complete: () => console.info('complete')\n    });\n  }\n\n  getProductosByStoreIdAndPopulate(branchId) {\n    this._productService.getProductosByStoreIdAndPopulate(branchId).subscribe({\n      next: productos => {\n        console.log(\"---------------------------los productos\");\n        console.log(productos);\n        console.log(\"----------------------------------\");\n        let arrayProductos = [];\n\n        for (let producto of productos) {\n          if (producto.ultimoRegCompra === null) {\n            let regCompra = {\n              fechaDeCompra: \"-\",\n              precioCompraUnitario: \"-\"\n            };\n            producto.ultimoRegCompra = regCompra;\n          }\n\n          producto.precioVenta = null;\n          arrayProductos.push(producto);\n          let productOfLDPnew = new productOfLDP(producto._id, producto.productName, producto.categoriaRubro.categoryName, producto.codigo, producto.stock, producto.ultimoRegCompra.fechaDeCompra, producto.ultimoRegCompra.precioCompraUnitario, producto.precioVenta);\n\n          this._productsList.push(productOfLDPnew);\n\n          this._listadeprecioService.addProductTothelist(productOfLDPnew);\n        }\n\n        this.products = arrayProductos;\n        console.log(\"this.products---------------\");\n        console.log(this.products);\n        console.log(\"usando el servicio de lista de precios\");\n        console.log(this._listadeprecioService.getAllProductsOfthelist());\n      },\n      error: e => console.error(e),\n      complete: () => {\n        console.log(\"el complte\");\n        console.log(this.listaOrigenId);\n        console.log(this._productsList);\n\n        if (this.listaOrigenId && this._productsList) {\n          console.log(\"MENSAJE: Copia de Lista de precios. obteniendo informacion de lista de precios ID: \" + this.listaOrigenId);\n          this.getListaDpByIdAndPopulateProducts(this.listaOrigenId);\n        }\n      }\n    });\n  }\n\n  getListaDpByIdAndPopulateProducts(listaId) {\n    this._listadeprecioService.getListaDpByIdAndPopulateProducts(listaId).subscribe({\n      next: listaFound => {\n        console.log(\"la listaaaaaaaa\");\n        console.log(listaFound);\n        let listafull = listaFound;\n\n        for (const lista in listafull) {\n          console.log(\"una lissa\");\n          console.log(lista);\n        }\n      },\n      error: e => {\n        console.error(e.error.message);\n      },\n      complete: () => {\n        console.log(\"el complte de obtener la listaaaa\");\n      }\n    });\n  }\n\n  openDialogPrecio(precioCompra, productName, index) {\n    const dialogRef = this.dialog.open(DialogprecioComponent, {\n      width: '50%',\n      data: {\n        'precioCompra': precioCompra,\n        'productName': productName\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      console.log(`Dialog result: ${result}`);\n      this._productsList[index].precioVenta = Number(`${result}`);\n    });\n  }\n\n}\n\nNewldpComponent.ɵfac = function NewldpComponent_Factory(t) {\n  return new (t || NewldpComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.ListadepreciosService), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i5.MatDialog));\n};\n\nNewldpComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NewldpComponent,\n  selectors: [[\"app-newldp\"]],\n  decls: 50,\n  vars: 7,\n  consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"ngSubmit\"], [\"ldpForm\", \"ngForm\"], [1, \"form-group\", \"row\"], [1, \"col\"], [\"for\", \"nombre\"], [\"type\", \"text\", \"id\", \"nombre\", \"name\", \"nombre\", \"placeholder\", \"Ingrese un nombre para la nueva lista de precios\", \"required\", \"\", 1, \"form-control\", \"col-sm-12\", 3, \"ngModel\", \"ngModelChange\"], [\"nombre\", \"ngModel\"], [\"for\", \"fecha\"], [\"disabled\", \"\", \"type\", \"date\", \"name\", \"fechaDeCreacion\", 1, \"form-control\", \"col-sm-4\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"ldpDescripcion\", 1, \"col-sm-2\", \"col-form-label\"], [1, \"form-group\", \"col-sm-12\"], [\"type\", \"text\", \"id\", \"ldpDescripcion\", \"placeholder\", \"Ingrese descicion de uso para la nueva Lista\", \"name\", \"descripcion\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"descripcion\", \"ngModel\"], [\"id\", \"dtBasicExample\", \"cellspacing\", \"0\", \"width\", \"100%\", 1, \"table\", \"table-striped\", \"table-hover\"], [1, \"th-sm\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-sm-10\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"alert alert-danger alert-dismissible fade show mt-2\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"align-middle\"], [4, \"ngIf\", \"ngIfElse\"], [\"fechaCompra\", \"\"], [\"precioCompra\", \"\"], [1, \"row\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"alert-dismissible\", \"fade\", \"show\", \"mt-2\"], [\"type\", \"button\", \"data-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"]],\n  template: function NewldpComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r18 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"L i s t a D e P r e c i o s\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0);\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵtext(4, \" Registro de listas de precios \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 2);\n      i0.ɵɵelementStart(6, \"form\", 3, 4);\n      i0.ɵɵlistener(\"ngSubmit\", function NewldpComponent_Template_form_ngSubmit_6_listener() {\n        i0.ɵɵrestoreView(_r18);\n\n        const _r0 = i0.ɵɵreference(7);\n\n        return ctx.onSubmit(_r0);\n      });\n      i0.ɵɵelementStart(8, \"div\", 5);\n      i0.ɵɵelementStart(9, \"div\", 6);\n      i0.ɵɵelementStart(10, \"label\", 7);\n      i0.ɵɵtext(11, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 8, 9);\n      i0.ɵɵlistener(\"ngModelChange\", function NewldpComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.ldpNombre = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 6);\n      i0.ɵɵelementStart(15, \"label\", 10);\n      i0.ɵɵtext(16, \"Fecha\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function NewldpComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.fechaDeCreacion = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 5);\n      i0.ɵɵelementStart(19, \"label\", 12);\n      i0.ɵɵtext(20, \"Descripcion\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 13);\n      i0.ɵɵelementStart(22, \"textarea\", 14, 15);\n      i0.ɵɵlistener(\"ngModelChange\", function NewldpComponent_Template_textarea_ngModelChange_22_listener($event) {\n        return ctx.ldpDescripcion = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"table\", 16);\n      i0.ɵɵelementStart(25, \"thead\");\n      i0.ɵɵelementStart(26, \"tr\");\n      i0.ɵɵelementStart(27, \"th\", 17);\n      i0.ɵɵtext(28, \"# \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"th\", 17);\n      i0.ɵɵtext(30, \"Producto \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"th\", 17);\n      i0.ɵɵtext(32, \"Rubro \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"th\", 17);\n      i0.ɵɵtext(34, \"Codigo \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"th\", 17);\n      i0.ɵɵtext(36, \"Stock \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"th\", 17);\n      i0.ɵɵtext(38, \"Fecha Ultima Compra \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"th\", 17);\n      i0.ɵɵtext(40, \"Costo \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"th\", 17);\n      i0.ɵɵtext(42, \"Precio de venta \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(43, NewldpComponent_tbody_43_Template, 27, 13, \"tbody\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"div\", 5);\n      i0.ɵɵelementStart(45, \"div\", 19);\n      i0.ɵɵelementStart(46, \"button\", 20);\n      i0.ɵɵtext(47, \"Crear\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(48, NewldpComponent_div_48_Template, 11, 0, \"div\", 21);\n      i0.ɵɵtemplate(49, NewldpComponent_div_49_Template, 8, 0, \"div\", 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(7);\n\n      const _r1 = i0.ɵɵreference(13);\n\n      const _r2 = i0.ɵɵreference(23);\n\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngModel\", ctx.ldpNombre);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.fechaDeCreacion);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.ldpDescripcion);\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngForOf\", ctx._productsList);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r1.touched && !_r1.valid);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r2.touched && !_r2.valid);\n    }\n  },\n  directives: [i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i6.DefaultValueAccessor, i6.RequiredValidator, i6.NgControlStatus, i6.NgModel, i7.NgForOf, i7.NgIf, i8.MatButton],\n  pipes: [i7.CurrencyPipe, i7.DatePipe],\n  encapsulation: 2\n});","map":{"version":3,"sources":["C:/Users/CESAR/apiREST-LenguaDeLoro/frontendLenguaDeLoro/src/app/components/store/storeDashboard/storeLdP/new/newldp/newldp.component.ts"],"names":["DialogprecioComponent","productOfLDP","i0","i1","i2","i3","i4","i5","i6","i7","i8","NewldpComponent_tbody_43_ng_container_12_Template","rf","ctx","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerEnd","NewldpComponent_tbody_43_ng_template_13_Template","ɵɵpipe","i_r7","ɵɵnextContext","index","ctx_r10","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind2","_productsList","fechaUltimaCompra","NewldpComponent_tbody_43_ng_container_15_Template","NewldpComponent_tbody_43_ng_template_16_Template","ctx_r13","ɵɵtextInterpolate","costoUnitario","NewldpComponent_tbody_43_Template","_r17","ɵɵgetCurrentView","ɵɵtemplate","ɵɵtemplateRefExtractor","ɵɵlistener","NewldpComponent_tbody_43_Template_button_click_25_listener","restoredCtx","ɵɵrestoreView","ctx_r16","openDialogPrecio","productName","_r9","ɵɵreference","_r12","ctx_r3","rubro","codigo","stock","ɵɵproperty","precioVenta","NewldpComponent_div_48_Template","NewldpComponent_div_49_Template","NewldpComponent","constructor","_productService","_listadeprecioService","_userService","_route","dialog","fechaDeCreacion","Date","toISOString","split","ngOnInit","params","subscribe","storeId","getProductosByStoreIdAndPopulate","enviarListId","data","setListaId","listaOrigenId","getListaId","onSubmit","form","console","log","registrarNuevaLDP","ldpNombre","ldpDescripcion","next","v","error","e","complete","info","branchId","productos","arrayProductos","producto","ultimoRegCompra","regCompra","fechaDeCompra","precioCompraUnitario","push","productOfLDPnew","_id","categoriaRubro","categoryName","addProductTothelist","products","getAllProductsOfthelist","getListaDpByIdAndPopulateProducts","listaId","listaFound","listafull","lista","message","precioCompra","dialogRef","open","width","afterClosed","result","Number","ɵfac","NewldpComponent_Factory","t","ɵɵdirectiveInject","ProductService","ListadepreciosService","UserService","ActivatedRoute","MatDialog","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","NewldpComponent_Template","_r18","NewldpComponent_Template_form_ngSubmit_6_listener","_r0","NewldpComponent_Template_input_ngModelChange_12_listener","$event","NewldpComponent_Template_input_ngModelChange_17_listener","NewldpComponent_Template_textarea_ngModelChange_22_listener","_r1","_r2","valid","touched","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","RequiredValidator","NgControlStatus","NgModel","NgForOf","NgIf","MatButton","pipes","CurrencyPipe","DatePipe","encapsulation"],"mappings":"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","sourcesContent":["import { DialogprecioComponent } from '../../dialogPrecio/dialogprecio/dialogprecio.component';\r\nimport { productOfLDP } from '../../../../../../models/productOfLDP';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../../../../../../../app/services/product.service\";\r\nimport * as i2 from \"../../../../../../services/listadeprecios.service\";\r\nimport * as i3 from \"../../../../../../services/user.service\";\r\nimport * as i4 from \"@angular/router\";\r\nimport * as i5 from \"@angular/material/dialog\";\r\nimport * as i6 from \"@angular/forms\";\r\nimport * as i7 from \"@angular/common\";\r\nimport * as i8 from \"@angular/material/button\";\r\nfunction NewldpComponent_tbody_43_ng_container_12_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵelementStart(1, \"td\", 22);\r\n    i0.ɵɵtext(2, \"-\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementContainerEnd();\r\n} }\r\nfunction NewldpComponent_tbody_43_ng_template_13_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 22);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵpipe(2, \"date\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const i_r7 = i0.ɵɵnextContext().index;\r\n    const ctx_r10 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(2, 1, ctx_r10._productsList[i_r7].fechaUltimaCompra, \"MM/dd/yyyy h:mm:ss\"), \" \");\r\n} }\r\nfunction NewldpComponent_tbody_43_ng_container_15_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵelementStart(1, \"td\", 22);\r\n    i0.ɵɵtext(2, \"-\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementContainerEnd();\r\n} }\r\nfunction NewldpComponent_tbody_43_ng_template_16_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 22);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵpipe(2, \"currency\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const i_r7 = i0.ɵɵnextContext().index;\r\n    const ctx_r13 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(2, 1, ctx_r13._productsList[i_r7].costoUnitario, \"$\"));\r\n} }\r\nfunction NewldpComponent_tbody_43_Template(rf, ctx) { if (rf & 1) {\r\n    const _r17 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"tbody\");\r\n    i0.ɵɵelementStart(1, \"tr\");\r\n    i0.ɵɵelementStart(2, \"td\", 22);\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"td\", 22);\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(6, \"td\", 22);\r\n    i0.ɵɵtext(7);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"td\", 22);\r\n    i0.ɵɵtext(9);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(10, \"td\", 22);\r\n    i0.ɵɵtext(11);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(12, NewldpComponent_tbody_43_ng_container_12_Template, 3, 0, \"ng-container\", 23);\r\n    i0.ɵɵtemplate(13, NewldpComponent_tbody_43_ng_template_13_Template, 3, 4, \"ng-template\", null, 24, i0.ɵɵtemplateRefExtractor);\r\n    i0.ɵɵtemplate(15, NewldpComponent_tbody_43_ng_container_15_Template, 3, 0, \"ng-container\", 23);\r\n    i0.ɵɵtemplate(16, NewldpComponent_tbody_43_ng_template_16_Template, 3, 4, \"ng-template\", null, 25, i0.ɵɵtemplateRefExtractor);\r\n    i0.ɵɵelementStart(18, \"td\", 22);\r\n    i0.ɵɵelementStart(19, \"div\", 26);\r\n    i0.ɵɵelementStart(20, \"div\", 6);\r\n    i0.ɵɵelementStart(21, \"td\", 22);\r\n    i0.ɵɵtext(22);\r\n    i0.ɵɵpipe(23, \"currency\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(24, \"div\", 6);\r\n    i0.ɵɵelementStart(25, \"button\", 27);\r\n    i0.ɵɵlistener(\"click\", function NewldpComponent_tbody_43_Template_button_click_25_listener() { const restoredCtx = i0.ɵɵrestoreView(_r17); const i_r7 = restoredCtx.index; const ctx_r16 = i0.ɵɵnextContext(); return ctx_r16.openDialogPrecio(ctx_r16._productsList[i_r7].costoUnitario, ctx_r16._productsList[i_r7].productName, i_r7); });\r\n    i0.ɵɵtext(26, \"Edit\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const i_r7 = ctx.index;\r\n    const _r9 = i0.ɵɵreference(14);\r\n    const _r12 = i0.ɵɵreference(17);\r\n    const ctx_r3 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(i_r7);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(ctx_r3._productsList[i_r7].productName);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(ctx_r3._productsList[i_r7].rubro);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(ctx_r3._productsList[i_r7].codigo);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(ctx_r3._productsList[i_r7].stock);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r3._productsList[i_r7].fechaUltimaCompra === \"-\")(\"ngIfElse\", _r9);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r3._productsList[i_r7].fechaUltimaCompra === \"-\")(\"ngIfElse\", _r12);\r\n    i0.ɵɵadvance(7);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(23, 10, ctx_r3._productsList[i_r7].precioVenta, \"$\"));\r\n} }\r\nfunction NewldpComponent_div_48_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 28);\r\n    i0.ɵɵtext(1, \" Ingrese un \");\r\n    i0.ɵɵelementStart(2, \"strong\");\r\n    i0.ɵɵtext(3, \"nombre \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(4, \" para la nueva \");\r\n    i0.ɵɵelementStart(5, \"strong\");\r\n    i0.ɵɵtext(6, \"Lista de precios\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(7, \" antes confirmar! \");\r\n    i0.ɵɵelementStart(8, \"button\", 29);\r\n    i0.ɵɵelementStart(9, \"span\", 30);\r\n    i0.ɵɵtext(10, \"\\u00D7\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction NewldpComponent_div_49_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 28);\r\n    i0.ɵɵtext(1, \" Ingrese una \");\r\n    i0.ɵɵelementStart(2, \"strong\");\r\n    i0.ɵɵtext(3, \"descripci\\u00F3n \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(4, \" del uso que se le dat\\u00E1 a la nueva Lista de Precios para poder confirmar! \");\r\n    i0.ɵɵelementStart(5, \"button\", 29);\r\n    i0.ɵɵelementStart(6, \"span\", 30);\r\n    i0.ɵɵtext(7, \"\\u00D7\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} }\r\nexport class NewldpComponent {\r\n    constructor(_productService, _listadeprecioService, _userService, _route, dialog) {\r\n        this._productService = _productService;\r\n        this._listadeprecioService = _listadeprecioService;\r\n        this._userService = _userService;\r\n        this._route = _route;\r\n        this.dialog = dialog;\r\n        this._productsList = [];\r\n        this.fechaDeCreacion = new Date().toISOString().split('T')[0];\r\n    }\r\n    async ngOnInit() {\r\n        this._route.params.subscribe(params => {\r\n            this.storeId = params['id'];\r\n            this.getProductosByStoreIdAndPopulate(this.storeId);\r\n        });\r\n        this._listadeprecioService.enviarListId.subscribe(data => {\r\n            this._listadeprecioService.setListaId(data.data);\r\n        });\r\n        this.listaOrigenId = this._listadeprecioService.getListaId();\r\n    }\r\n    onSubmit(form) {\r\n        console.log(\"soy el onsubmit--------------------------\");\r\n        this._listadeprecioService.registrarNuevaLDP(this._productsList, this.ldpNombre, this.ldpDescripcion, this.fechaDeCreacion, this.storeId)\r\n            .subscribe({\r\n            next: (v) => {\r\n                console.log(\"MENSAJE: despues del registrarNuevaLDP\");\r\n                console.log(v);\r\n                // this._router.navigate(['/tienda', this.storeId,'productos']);     \r\n            },\r\n            error: (e) => {\r\n                console.log(e.error);\r\n            },\r\n            complete: () => console.info('complete')\r\n        });\r\n    }\r\n    getProductosByStoreIdAndPopulate(branchId) {\r\n        this._productService.getProductosByStoreIdAndPopulate(branchId)\r\n            .subscribe({\r\n            next: (productos) => {\r\n                console.log(\"---------------------------los productos\");\r\n                console.log(productos);\r\n                console.log(\"----------------------------------\");\r\n                let arrayProductos = [];\r\n                for (let producto of productos) {\r\n                    if (producto.ultimoRegCompra === null) {\r\n                        let regCompra = {\r\n                            fechaDeCompra: \"-\",\r\n                            precioCompraUnitario: \"-\"\r\n                        };\r\n                        producto.ultimoRegCompra = regCompra;\r\n                    }\r\n                    producto.precioVenta = null;\r\n                    arrayProductos.push(producto);\r\n                    let productOfLDPnew = new productOfLDP(producto._id, producto.productName, producto.categoriaRubro.categoryName, producto.codigo, producto.stock, producto.ultimoRegCompra.fechaDeCompra, producto.ultimoRegCompra.precioCompraUnitario, producto.precioVenta);\r\n                    this._productsList.push(productOfLDPnew);\r\n                    this._listadeprecioService.addProductTothelist(productOfLDPnew);\r\n                }\r\n                this.products = arrayProductos;\r\n                console.log(\"this.products---------------\");\r\n                console.log(this.products);\r\n                console.log(\"usando el servicio de lista de precios\");\r\n                console.log(this._listadeprecioService.getAllProductsOfthelist());\r\n            },\r\n            error: (e) => console.error(e),\r\n            complete: () => {\r\n                console.log(\"el complte\");\r\n                console.log(this.listaOrigenId);\r\n                console.log(this._productsList);\r\n                if (this.listaOrigenId && this._productsList) {\r\n                    console.log(\"MENSAJE: Copia de Lista de precios. obteniendo informacion de lista de precios ID: \" + this.listaOrigenId);\r\n                    this.getListaDpByIdAndPopulateProducts(this.listaOrigenId);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    getListaDpByIdAndPopulateProducts(listaId) {\r\n        this._listadeprecioService.getListaDpByIdAndPopulateProducts(listaId)\r\n            .subscribe({\r\n            next: (listaFound) => {\r\n                console.log(\"la listaaaaaaaa\");\r\n                console.log(listaFound);\r\n                let listafull = listaFound;\r\n                for (const lista in listafull) {\r\n                    console.log(\"una lissa\");\r\n                    console.log(lista);\r\n                }\r\n            },\r\n            error: (e) => {\r\n                console.error(e.error.message);\r\n            },\r\n            complete: () => {\r\n                console.log(\"el complte de obtener la listaaaa\");\r\n            }\r\n        });\r\n    }\r\n    openDialogPrecio(precioCompra, productName, index) {\r\n        const dialogRef = this.dialog.open(DialogprecioComponent, {\r\n            width: '50%',\r\n            data: { 'precioCompra': precioCompra,\r\n                'productName': productName,\r\n            }\r\n        });\r\n        dialogRef.afterClosed().subscribe(result => {\r\n            console.log(`Dialog result: ${result}`);\r\n            this._productsList[index].precioVenta = Number(`${result}`);\r\n        });\r\n    }\r\n}\r\nNewldpComponent.ɵfac = function NewldpComponent_Factory(t) { return new (t || NewldpComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.ListadepreciosService), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i5.MatDialog)); };\r\nNewldpComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: NewldpComponent, selectors: [[\"app-newldp\"]], decls: 50, vars: 7, consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"ngSubmit\"], [\"ldpForm\", \"ngForm\"], [1, \"form-group\", \"row\"], [1, \"col\"], [\"for\", \"nombre\"], [\"type\", \"text\", \"id\", \"nombre\", \"name\", \"nombre\", \"placeholder\", \"Ingrese un nombre para la nueva lista de precios\", \"required\", \"\", 1, \"form-control\", \"col-sm-12\", 3, \"ngModel\", \"ngModelChange\"], [\"nombre\", \"ngModel\"], [\"for\", \"fecha\"], [\"disabled\", \"\", \"type\", \"date\", \"name\", \"fechaDeCreacion\", 1, \"form-control\", \"col-sm-4\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"ldpDescripcion\", 1, \"col-sm-2\", \"col-form-label\"], [1, \"form-group\", \"col-sm-12\"], [\"type\", \"text\", \"id\", \"ldpDescripcion\", \"placeholder\", \"Ingrese descicion de uso para la nueva Lista\", \"name\", \"descripcion\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"descripcion\", \"ngModel\"], [\"id\", \"dtBasicExample\", \"cellspacing\", \"0\", \"width\", \"100%\", 1, \"table\", \"table-striped\", \"table-hover\"], [1, \"th-sm\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-sm-10\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"alert alert-danger alert-dismissible fade show mt-2\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"align-middle\"], [4, \"ngIf\", \"ngIfElse\"], [\"fechaCompra\", \"\"], [\"precioCompra\", \"\"], [1, \"row\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"alert-dismissible\", \"fade\", \"show\", \"mt-2\"], [\"type\", \"button\", \"data-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"]], template: function NewldpComponent_Template(rf, ctx) { if (rf & 1) {\r\n        const _r18 = i0.ɵɵgetCurrentView();\r\n        i0.ɵɵelementStart(0, \"h1\");\r\n        i0.ɵɵtext(1, \"L i s t a D e P r e c i o s\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(2, \"div\", 0);\r\n        i0.ɵɵelementStart(3, \"div\", 1);\r\n        i0.ɵɵtext(4, \" Registro de listas de precios \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"div\", 2);\r\n        i0.ɵɵelementStart(6, \"form\", 3, 4);\r\n        i0.ɵɵlistener(\"ngSubmit\", function NewldpComponent_Template_form_ngSubmit_6_listener() { i0.ɵɵrestoreView(_r18); const _r0 = i0.ɵɵreference(7); return ctx.onSubmit(_r0); });\r\n        i0.ɵɵelementStart(8, \"div\", 5);\r\n        i0.ɵɵelementStart(9, \"div\", 6);\r\n        i0.ɵɵelementStart(10, \"label\", 7);\r\n        i0.ɵɵtext(11, \"Nombre\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(12, \"input\", 8, 9);\r\n        i0.ɵɵlistener(\"ngModelChange\", function NewldpComponent_Template_input_ngModelChange_12_listener($event) { return ctx.ldpNombre = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"div\", 6);\r\n        i0.ɵɵelementStart(15, \"label\", 10);\r\n        i0.ɵɵtext(16, \"Fecha\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(17, \"input\", 11);\r\n        i0.ɵɵlistener(\"ngModelChange\", function NewldpComponent_Template_input_ngModelChange_17_listener($event) { return ctx.fechaDeCreacion = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"div\", 5);\r\n        i0.ɵɵelementStart(19, \"label\", 12);\r\n        i0.ɵɵtext(20, \"Descripcion\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(21, \"div\", 13);\r\n        i0.ɵɵelementStart(22, \"textarea\", 14, 15);\r\n        i0.ɵɵlistener(\"ngModelChange\", function NewldpComponent_Template_textarea_ngModelChange_22_listener($event) { return ctx.ldpDescripcion = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(24, \"table\", 16);\r\n        i0.ɵɵelementStart(25, \"thead\");\r\n        i0.ɵɵelementStart(26, \"tr\");\r\n        i0.ɵɵelementStart(27, \"th\", 17);\r\n        i0.ɵɵtext(28, \"# \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(29, \"th\", 17);\r\n        i0.ɵɵtext(30, \"Producto \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(31, \"th\", 17);\r\n        i0.ɵɵtext(32, \"Rubro \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(33, \"th\", 17);\r\n        i0.ɵɵtext(34, \"Codigo \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(35, \"th\", 17);\r\n        i0.ɵɵtext(36, \"Stock \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(37, \"th\", 17);\r\n        i0.ɵɵtext(38, \"Fecha Ultima Compra \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(39, \"th\", 17);\r\n        i0.ɵɵtext(40, \"Costo \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(41, \"th\", 17);\r\n        i0.ɵɵtext(42, \"Precio de venta \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(43, NewldpComponent_tbody_43_Template, 27, 13, \"tbody\", 18);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(44, \"div\", 5);\r\n        i0.ɵɵelementStart(45, \"div\", 19);\r\n        i0.ɵɵelementStart(46, \"button\", 20);\r\n        i0.ɵɵtext(47, \"Crear\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(48, NewldpComponent_div_48_Template, 11, 0, \"div\", 21);\r\n        i0.ɵɵtemplate(49, NewldpComponent_div_49_Template, 8, 0, \"div\", 21);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        const _r0 = i0.ɵɵreference(7);\r\n        const _r1 = i0.ɵɵreference(13);\r\n        const _r2 = i0.ɵɵreference(23);\r\n        i0.ɵɵadvance(12);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.ldpNombre);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.fechaDeCreacion);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.ldpDescripcion);\r\n        i0.ɵɵadvance(21);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx._productsList);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", _r1.touched && !_r1.valid);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", _r2.touched && !_r2.valid);\r\n    } }, directives: [i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i6.DefaultValueAccessor, i6.RequiredValidator, i6.NgControlStatus, i6.NgModel, i7.NgForOf, i7.NgIf, i8.MatButton], pipes: [i7.CurrencyPipe, i7.DatePipe], encapsulation: 2 });\r\n"]},"metadata":{},"sourceType":"module"}